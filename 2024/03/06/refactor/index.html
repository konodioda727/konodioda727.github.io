

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="KB">
  <meta name="keywords" content="">
  
    <meta name="description" content="å–œæ¬¢é‡æ„ï¼Œæ‹¦ä¸ä½çš„ğŸ¤¡">
<meta property="og:type" content="article">
<meta property="og:title" content="é‡æ„çš„è‰ºæœ¯">
<meta property="og:url" content="http://baidu.com/2024/03/06/refactor/index.html">
<meta property="og:site_name" content="Kai&#39;s Blog">
<meta property="og:description" content="å–œæ¬¢é‡æ„ï¼Œæ‹¦ä¸ä½çš„ğŸ¤¡">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img2.imgtp.com/2024/03/06/BOWukNnb.jpg">
<meta property="article:published_time" content="2024-03-05T16:00:00.000Z">
<meta property="article:modified_time" content="2024-03-06T14:17:50.000Z">
<meta property="article:author" content="KB">
<meta property="article:tag" content="å‰ç«¯">
<meta property="article:tag" content="jsè¿›é˜¶">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://img2.imgtp.com/2024/03/06/BOWukNnb.jpg">
  
  
  
  <title>é‡æ„çš„è‰ºæœ¯ - Kai&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"baidu.com","root":"/","version":"1.9.5","typing":{"enable":true,"typeSpeed":60,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  
    <!-- Google tag (gtag.js) -->
    <script async>
      if (!Fluid.ctx.dnt) {
        Fluid.utils.createScript("https://www.googletagmanager.com/gtag/js?id=", function() {
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag('js', new Date());
          gtag('config', '');
        });
      }
    </script>
  

  

  

  

  



  
<meta name="generator" content="Hexo 7.1.1"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Kaiqing Liu</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>é¦–é¡µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>å½’æ¡£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>åˆ†ç±»</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>æ ‡ç­¾</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://img2.imgtp.com/2024/03/06/4Afjt2um.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="é‡æ„çš„è‰ºæœ¯"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-03-06 00:00" pubdate>
          2024å¹´3æœˆ6æ—¥ å‡Œæ™¨
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          18k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          154 åˆ†é’Ÿ
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">é‡æ„çš„è‰ºæœ¯</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="é‡æ„çš„è‰ºæœ¯ğŸ¤ª"><a href="#é‡æ„çš„è‰ºæœ¯ğŸ¤ª" class="headerlink" title="é‡æ„çš„è‰ºæœ¯ğŸ¤ª"></a>é‡æ„çš„è‰ºæœ¯ğŸ¤ª</h1><blockquote>
<p>å¼ºçƒˆå»ºè®®å¤§å®¶å»çœ‹ä¸€ä¸‹ï¼š <code>ã€Šé‡æ„ï¼šæ”¹å–„ä»£ç çš„æ—¢æœ‰è®¾è®¡ã€‹</code>è¿™æœ¬ä¹¦ï¼Œè¶…çº§å¥½çœ‹ï¼Œè®¡ç®—æœºåœ£ç»ã€‚ğŸ¥³</p>
<p>å‰åŠéƒ¨åˆ†è®²è§£<strong>ä¸ºä»€ä¹ˆè¦è¿›è¡Œé‡æ„</strong>ã€<strong>ä»€ä¹ˆæ—¶å€™è¿›è¡Œé‡æ„</strong>ä»¥åŠ<strong>é‡æ„çš„å¥½å¤„</strong>ï¼Œè¶…çº§æœ‰æ„æ€ï¼›ååŠéƒ¨åˆ†å°±æ˜¯çº¯çº¯å·¥å…·ä¹¦ï¼Œä¸çŸ¥é“å’‹é‡æ„çš„æ—¶å€™ç¿»ä¸€ç¿»å°±è¡ŒğŸ’©</p>
<p>é‡Œé¢æœ‰å¥è¯æˆ‘ç°åœ¨éƒ½è®°å¾—ï¼š<em><strong>å‚»ç“œéƒ½èƒ½å†™å‡ºè®¡ç®—æœºèƒ½çœ‹æ‡‚çš„ä»£ç ï¼Œè€Œèƒ½å†™å‡ºäººèƒ½å¤Ÿçœ‹æ‡‚çš„ä»£ç çš„æ‰å«ä¼˜ç§€çš„ç¨‹åºå‘˜</strong></em></p>
</blockquote>
<h2 id="ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦é‡æ„ğŸ¤¡"><a href="#ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦é‡æ„ğŸ¤¡" class="headerlink" title="ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦é‡æ„ğŸ¤¡"></a>ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦é‡æ„ğŸ¤¡</h2><p>å…¶å®åœ¨è®¡ç®—æœº<code>æ—©æœŸå‘å±•é˜¶æ®µ</code>æ˜¯æ²¡æœ‰é‡æ„çš„æ¦‚å¿µçš„ï¼Œå› ä¸ºé‚£ä¸ªæ—¶å€™ç¨‹åº<strong>ä½“é‡å¾ˆå°</strong>ï¼Œæ‰€ä»¥æ¨å´‡<strong>åœ¨å¼€å‘ä¹‹å‰å°±è§„åˆ’å¥½ä¸€æ•´ä¸ªç¨‹åº</strong>ã€‚</p>
<p>ä½†æ˜¯éšç€ç¨‹åºä½“é‡è¶Šæ¥è¶Šå¤§ï¼Œå³ä½¿æ˜¯æœ€ä¼˜ç§€çš„å¤§ç‰›ä¹Ÿä¸èƒ½åœ¨å¼€å‘ä¹‹å‰å°±æŠŠæ‰€æœ‰æƒ…å†µéƒ½è€ƒè™‘è¿›å»ã€‚ğŸ‘¾</p>
<p>æ‰€ä»¥åªèƒ½ä¸€æ¬¡åˆä¸€æ¬¡åœ°ç»™åŸæ¥çš„ç¨‹åºè´´è¡¥ä¸ï¼Œç„¶è€Œè¿™ç§<strong>é¢å¯¹bugè´´è¡¥ä¸</strong>çš„æ²»æ ‡ä¸æ²»æœ¬çš„æ–¹å¼åªä¼šä½¿è¡¥ä¸è¶Šæ¥è¶Šå¤šï¼Œç¨‹åº<strong>è¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œè¶Šæ¥è¶Šéš¾ä»¥ç»´æŠ¤</strong>ğŸ«¨</p>
<p>ç»ˆäºï¼Œåˆ°äº†ä¸€ç‚¹éƒ½å†™ä¸ä¸‹å»çš„æ—¶å€™ï¼Œ<code>é‡æ„</code>çš„æ¦‚å¿µå°±è¯ç”Ÿäº†ï¼Œå¹¶ä¸”è¿…é€Ÿè·å¾—äº†å¤§å®¶çš„é’çï¼Œå¹¶è¢«è®¤ä¸ºæ˜¯ä¸€ç§å¯ä»¥æå¤§æé«˜å¼€å‘æ•ˆç‡çš„æ–¹å¼ã€‚</p>
<blockquote>
<p>åœ¨å¤§å®¶çš„<code>miniproject</code>ä¸­è‚¯å®šä¹Ÿä¼šé‡åˆ°ç›¸ä¼¼çš„é—®é¢˜ï¼šäº§å“è¦æ±‚è¶Šæ¥è¶Šå¤šğŸ˜µï¼Œä¸€äº›åŸæ¥æ ¹æœ¬æ²¡è€ƒè™‘çš„ç”¨æ³•çš„äº§ç”Ÿï¼Œä¼šå¯¼è‡´ä»£ç é€»è¾‘è¶Šæ¥è¶Šæ··ä¹±ï¼Œè¶Šå†™è¶Šè‡ªé—­ï¼ˆå»å¹´æˆ‘å°±åœ¨æ˜¯è¿™æ ·çš„ğŸ¤¡ğŸ¤¡ğŸ¤¡ï¼‰ã€‚</p>
<p>è¿™ä¸ªæ—¶å€™ï¼Œåˆ«å®³æ€•ï¼Œæ‹æ¸…æ€è·¯ï¼Œæœæ–­é‡æ„ï¼ï¼ï¼</p>
</blockquote>
<p>ä½†æ˜¯ï¼Œ<code>é‡æ„</code>çš„æ„ä¹‰ä¸æ­¢äºæ­¤ï¼šéšç€æŠ€æœ¯çš„è¿…é€Ÿå‘å±•ï¼Œè€ä¸€ä»£æŠ€æœ¯æ¸æ¸è¢«å–ä»£ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œ<code>ç”¨æ–°æŠ€æœ¯é‡æ„è€é¡¹ç›®</code>å°±æ˜¾å¾—æ ¼å¤–é‡è¦</p>
<p>å°±æ¯”å¦‚ç”¨<code>react</code>é‡æ„ä¹‹å‰<code>jQuery</code>çš„é¡¹ç›®ğŸ¤ª</p>
<p><em>å› æ­¤ï¼Œå°å°æ€»ç»“ä¸€ä¸‹ï¼Œé‡æ„å°±æ˜¯å› ä¸ºï¼š</em></p>
<ul>
<li>ä¹‹å‰å†™çš„çƒ‚ï¼Œæ”¹ä¸äº†ä¸€ç‚¹æˆ–è€…æ”¹çš„å¾ˆè€—æ—¶å¾ˆè´¹ç²¾åŠ›</li>
<li>é¡¹ç›®è¦ä¸æ—¶ä¿±è¿›ï¼Œæ¢ä¸Šæ–°æŠ€æœ¯ï¼Œæé«˜æ•ˆèƒ½</li>
</ul>
<h2 id="äºŒã€è¦æ€ä¹ˆé‡æ„ğŸ¤•"><a href="#äºŒã€è¦æ€ä¹ˆé‡æ„ğŸ¤•" class="headerlink" title="äºŒã€è¦æ€ä¹ˆé‡æ„ğŸ¤•"></a>äºŒã€è¦æ€ä¹ˆé‡æ„ğŸ¤•</h2><p><strong>ã€Šé‡æ„ã€‹çš„ä½œè€…ç§°è¿™ä¸ªä¸ºå‘ç°ä»£ç é‡Œçš„åå‘³é“ğŸ’©</strong></p>
<blockquote>
<p>é¦–å…ˆï¼Œè‚¯å®šæ˜¯è¦æ‹æ¸…<code>é€»è¾‘æ··ä¹±</code>äº§ç”Ÿçš„åŸå› ï¼Œåˆ†æè¿‡åï¼ŒæŠŠé€»è¾‘é‡å†™ï¼Œé‡æ–°ç»„ç»‡å‡½æ•°ã€ç»„ä»¶çš„å…³ç³»</p>
</blockquote>
<ul>
<li><p>ä¸€äº›é€»è¾‘æ··ä¹±æ¥æºäºä¸åˆç†çš„ç»„ä»¶æ‹†åˆ†ï¼Œ<em><strong>ä¸è¦æƒ³ç€è®©ä¸€ä¸ªç»„ä»¶é€‚åº”æ‰€æœ‰çš„æƒ…å†µ</strong></em>ï¼Œè¿™æ ·åªä¼šè®©è¿™ä¸€ä¸ªç»„ä»¶è¶Šæ¥è¶Šéš¾æ‡‚å¤æ‚</p>
<p><em><strong>ä¸€ä¸ªç»„ä»¶åªå¹²ä¸€ä»¶äº‹æƒ…ğŸ˜ƒğŸ˜ƒğŸ˜ƒ</strong></em></p>
<blockquote>
<p>å°±æ¯”å¦‚<code>button</code>ç»„ä»¶ï¼Œä¸€å¼€å§‹çš„åŠŸèƒ½å°±æ˜¯æŒ‰ä¸‹æœ‰ååº”ã€‚ä½†æ˜¯ç°åœ¨å‘ç°åˆéœ€è¦ä¸€ä¸ªå¯ä»¥æœ‰å¼¹çª—çš„<code>button</code>ç»„ä»¶ã€‚</p>
<p>è¿™æ—¶å€™ä¸€èˆ¬çš„æƒ³æ³•å°±æ˜¯åšä¸ªåˆ¤æ–­ï¼Œç»™åŸæ¥çš„ç»„ä»¶ä¸ŠåŠ ä¸€ä¸ª<code>hasModal</code>ï¼Œæœ‰è¿™ä¸ªå±æ€§å°±æœ‰å¼¹çª—ï¼Œä¹Ÿä¸æ˜¯ä¸è¡Œå—·ğŸ¤£ã€‚</p>
<p>ç¡®å®æ˜¯è¿™æ ·ï¼Œç¨å¾®åŠ ä¸€ç‚¹<code>prop</code>ä¼šè®©æˆ‘ä»¬çš„ç»„ä»¶åŠŸèƒ½æ›´å¼ºå¤§ï¼Œä½†æ˜¯è¿‡å¤šçš„<code>props</code>å°±æŒºè®©äººå¤´å¤§äº†</p>
<p>å°±æ¯”å¦‚å†ç»™è¿™ä¸ª<code>button</code>åŠ ä¸Šè·³è½¬é¡µé¢ã€ä¸‹è½½æ–‡ä»¶ã€ä¸Šä¼ æ–‡ä»¶ç­‰ç­‰çš„åŠŸèƒ½ï¼Œè¿™ä¸ªæ—¶å€™æµ…æµ…çœ‹ä¸€ä¸‹æœ‰å¤šå°‘ä¸ª<code>props</code>å‘¢ï¼Ÿ <code>hasModal</code>,<code>navigatePath</code>,<code>download</code>,<code>upload</code></p>
<p>è¿™ä¸ªæ—¶å€™æˆ‘å°±å·²ç»ç›¸å½“çƒ¦äº†ï¼Œä½†æ˜¯æƒ…å†µå¯èƒ½æ›´è¶…ä¹æ„æ–™ï¼Œå¯èƒ½è¿˜æœ‰<code>button</code>åœ¨é¡µé¢ä¸Šå­˜åœ¨3ç§’ä¹‹åé¡µé¢å°±è¦å¼€å§‹æŠ–åŠ¨è¿™ç§é€†å¤©çš„åŠŸèƒ½å‘¢ã€‚ä½ æ°¸è¿œæƒ³è±¡ä¸åˆ°ä½ çš„è€æ¿æœ‰ä»€ä¹ˆé¬¼é©¬ç‚¹å­ğŸ˜</p>
<p>æ‰€ä»¥ï¼Œè¿™ä¸ªæ—¶å€™å®Œå…¨å¯ä»¥æŠŠè¿™äº›ä¸ª<code>button</code>æ‹†å¼€ï¼Œæ­£å¸¸çš„<code>button</code>ç”¨ä¸€ä¸ªç»„ä»¶ï¼Œæœ‰ç‰¹æ®ŠåŠŸèƒ½çš„ï¼Œå°±å•ç‹¬å†å†™ä¸€ä¸ªï¼Œé¿å…åˆ«äººè¦è¿™ä¸ªç»„ä»¶çš„æ—¶å€™ç‚¹å¼€çœ‹åˆ°1000è¡Œçš„<code>propsæç¤º</code>å‘å‘†ã€‚ğŸ‘¾</p>
</blockquote>
</li>
<li><p>ä¸€äº›é€»è¾‘é—®é¢˜å‡ºç°åœ¨<em><strong>ç»„ä»¶ä¹‹é—´<code>è€¦åˆåº¦</code>å¤ªé«˜</strong></em>ï¼Œæ”¹åŠ¨ä¸€ä¸ªå°éƒ¨åˆ†è¦ä¿®æ”¹å¤§åŠä¸ªé¡µé¢çš„ä»£ç ï¼Œè¿™ç§æ˜¯çœŸçš„ç—›è‹¦ğŸ¤—</p>
<blockquote>
<p>è¿˜æ˜¯æ‹¿ä¸Šè¾¹çš„<code>button</code>åšä¾‹å­ï¼Œ<code>hasModal</code>,<code>navigatePath</code>,<code>download</code>,<code>upload</code>è¿™äº›åŠŸèƒ½ï¼Œå®Œå…¨å¯ä»¥æ”¹æˆä¸€ä¸ª<code>onClick</code>å›è°ƒå‡½æ•°ğŸ˜,ä¹‹åè¦ç”¨çš„æ—¶å€™æŠŠè¦æ‰§è¡Œçš„ä»»åŠ¡ä½œä¸ºå‡½æ•°ä¼ è¿›æ¥ï¼Œè¿™æ ·<code>button</code>å°±åªç”¨å•ç‹¬å¤„ç†è‡ªèº«<code>onClick</code>çš„é€»è¾‘å°±è¡Œå•¦ï¼Œå¤ç”¨æ€§è‡ªç„¶ä¹Ÿå°±æé«˜äº†</p>
<p><strong>ä¸€ä¸ªå¥½çš„ç»„ä»¶å†™å®Œä¹‹åç”¨800å¹´ä¹Ÿä¸éœ€è¦æ”¹ä¸€æ¬¡ä»£ç </strong></p>
</blockquote>
</li>
<li><p>è¿˜æœ‰ä¸€äº›å‡ºåœ¨<em><strong>ä¹±ä¸ƒå…«ç³Ÿçš„é€»è¾‘æ¡ä»¶åˆ¤æ–­</strong></em>ä¸Š</p>
<p><code>if</code>åµŒ800è¡Œï¼Œå›¾çµæ¥äº†éƒ½çœ‹ä¸æ‡‚ï¼Œå†æ¥ç‚¹å¾ªç¯ï¼Œä¸Šå¸éƒ½çœ‹ä¸æ‡‚ğŸ¦¢</p>
<p>å¥½å¥½<code>review</code>è‡ªå·±å†™çš„ğŸ’©ğŸ’©ğŸ’©,æŠŠç±»ä¼¼ä»€ä¹ˆ </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title class_">True</span> = flag ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>

<p>è¿™ç§è„±è£¤å­æ”¾å±çš„ä¸œè¥¿éƒ½åŒ–ç®€äº†ï¼ˆæœ‰æ—¶å€™<code>ide</code>éƒ½çœ‹ä¸ä¸‹å»ä¼šç»™ä½ æ ‡é»„ğŸ¤£ï¼‰ï¼›å†æŠŠ<code>if</code>è¿™ç§è¯­å¥å°½é‡æ”¹æˆ<code>ä¸‰ç›®è¿ç®—ç¬¦</code>ï¼›æŠŠ<code>switch</code>è¿™ç§è¯­å¥æ¢æˆ<code>å¤šæ€ç±»</code>ï¼›</p>
<p>æé«˜ç‚¹å¯è¯»æ€§ï¼Œå¯¹ä½ å’Œä½ çš„<code>partner</code>éƒ½å¥½ğŸ¤¯ğŸ¤¯ğŸ¤¯</p>
</li>
</ul>
<blockquote>
<p>å…¶æ¬¡å°±æ˜¯<em><strong>é‡æ–°ç»„ç»‡æ–‡ä»¶ç»“æ„</strong></em></p>
</blockquote>
<ul>
<li><p>æ–‡ä»¶ç»“æ„åº”è¯¥å±‚æ¬¡åˆ†æ˜ï¼Œé€»è¾‘æ¸…æ™°ï¼Œä»¥ä¸‹æ˜¯<code>huskyğŸ¶</code>æ¨èçš„ç›®å½•ç»“æ„</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash">â”œâ”€â”€ .husky              <span class="hljs-comment"># huskyçš„é…ç½®æ–‡ä»¶</span><br>â”œâ”€â”€ dist               	<span class="hljs-comment"># æ‰“åŒ…åçš„ä»£ç å’Œèµ„æºæ–‡ä»¶</span><br>â”œâ”€â”€ node_modules        <span class="hljs-comment"># ä¾èµ–åº“å’Œæ¨¡å—</span><br>â”œâ”€â”€ src<br>â”‚   â”œâ”€â”€ assets          <span class="hljs-comment"># é™æ€èµ„æº</span><br>â”‚   â”œâ”€â”€ components      <span class="hljs-comment"># å…¬å…±ç»„ä»¶</span><br>â”‚   â”œâ”€â”€ pages           <span class="hljs-comment"># é¡µé¢</span><br>â”‚   â”œâ”€â”€ <span class="hljs-built_in">type</span>            <span class="hljs-comment"># å…¨å±€ç±»å‹å£°æ˜</span><br>â”‚   â”œâ”€â”€ utils           <span class="hljs-comment"># å·¥å…·å‡½æ•°</span><br>â”‚   â”œâ”€â”€ App.tsx<br>â”‚   â”œâ”€â”€ fetch.ts        <span class="hljs-comment"># ç½‘ç»œè¯·æ±‚</span><br>â”‚   â”œâ”€â”€ main.tsx<br>â”‚   â”œâ”€â”€ router.tsx      <span class="hljs-comment"># è·¯ç”±é…ç½®ä¿¡æ¯</span><br>â”‚   â””â”€â”€ vite-env.d.ts<br>â”œâ”€â”€ .commitlintrc.cjs	<span class="hljs-comment"># commitlintçš„é…ç½®æ–‡ä»¶</span><br>â”œâ”€â”€ .eslintignore<br>â”œâ”€â”€ .eslintrc.cjs       <span class="hljs-comment"># ESLintçš„é…ç½®æ–‡ä»¶</span><br>â”œâ”€â”€ .gitignore<br>â”œâ”€â”€ .prettierignore<br>â”œâ”€â”€ .prettierrc.cjs     <span class="hljs-comment"># Prettierçš„é…ç½®æ–‡ä»¶</span><br>â”œâ”€â”€ index.html<br>â”œâ”€â”€ package.json<br>â”œâ”€â”€ README.md<br>â”œâ”€â”€ tsconfig.json<br>â”œâ”€â”€ tsconfig.node.json<br>â”œâ”€â”€ vite.config.ts<br>â””â”€â”€ yarn.lock<br></code></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œæ¯ä¸ª<code>page</code>å’Œ<code>component</code>ä¹Ÿéƒ½å¯ä»¥æœ‰è‡ªå·±ç‹¬æœ‰çš„<code>component</code>ï¼Œæœ€å¤–å±‚çš„<code>component</code>åªæ”¾ä¸åŒé¡µé¢ä¸åŒç»„ä»¶å‡è¦ç”¨åˆ°çš„ç»„ä»¶</p>
</li>
</ul>
<blockquote>
<p>ç„¶åå°±æ˜¯ä¸€ä¸ªè¢«å¾ˆå¤šäººå¿½ç•¥çš„ç‚¹ï¼š<em><strong>æ¢ä¸ªå¥½çš„åå­—</strong></em></p>
</blockquote>
<ul>
<li><p>æœ‰æ—¶å€™ï¼Œæ¢ä¸€ä¸ªäººç±»èƒ½çœ‹æ‡‚çš„åå­—çœŸçš„èƒ½å¸®ä¸Šå¤§å¿™ğŸ˜ã€‚</p>
<p>ä¸è¦æ€•åå­—å¤ªé•¿ä»€ä¹ˆçš„ï¼Œåˆä¸æ˜¯ä½ è‡ªå·±å†™ï¼Œ<code>ide</code>éƒ½æ²¡æŠ±æ€¨ä½ æ€¥ä»€ä¹ˆï¼Ÿ</p>
<blockquote>
<p>å°±æ¯”å¦‚è¯´ï¼ˆçœŸå®æ¡ˆä¾‹å“ˆğŸ˜•ï¼‰ï¼š</p>
<p>ä½ çœ‹åˆ°ä¸€ä¸ªç»„ä»¶ï¼Œå«<code>Ritem</code>ï¼Œä½ èƒ½çœ‹å‡ºæ¥å®ƒæ˜¯å¹²å•¥çš„å—ï¼Ÿ</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœæ”¹ä¸ªåå­—ï¼Œå«<code>RescueInfoItem</code>,æ˜¯ä¸æ˜¯å°±æ¸…æ™°å¤šäº†</p>
<p>é¡ºå¸¦æä¸€å¥ï¼Œå‰å‡ å¤©æˆ‘èµ·å‡ºäº†è¿™è¾ˆå­æ¥æœ€é•¿çš„åå­—ï¼š <code>RescueInfoSortedByTargetIDSlice</code>ğŸ˜¶â€ğŸŒ«ï¸</p>
</blockquote>
</li>
</ul>
<h2 id="å››ã€é‡æ„çš„æ­¥éª¤"><a href="#å››ã€é‡æ„çš„æ­¥éª¤" class="headerlink" title="å››ã€é‡æ„çš„æ­¥éª¤"></a>å››ã€é‡æ„çš„æ­¥éª¤</h2><p><strong>å…‰è¯´è¯´å¯èƒ½æ²¡ä»€ä¹ˆæ„Ÿè§‰ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘å°†ä¼šä½¿ç”¨æˆ‘æœ€è¿‘é‡æ„çš„ä¸€æ®µä»£ç ï¼ˆjs-&gt;tsï¼‰æ¥ç»™å¤§å®¶å±•ç¤ºé‡æ„çš„é­…åŠ›ğŸ‘½ï¼Œç”¨ä¾‹å­çš„æ–¹å¼ç»™å¤§å®¶è®²è§£ä¸€ä¸‹é‡æ„çš„æ­¥éª¤ï¼ˆè¿™æ®µä»£ç çš„æ¥æºä¿å¯†ğŸ¤ªï¼‰</strong></p>
<blockquote>
<p>msgItem.jsx (è¿™æ˜¯æˆ‘ä»¬è¦é‡æ„çš„ç»„ä»¶)</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Taro</span>, &#123;useReady&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@tarojs/taro&#x27;</span><br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">View</span> ,<span class="hljs-title class_">Image</span>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@tarojs/components&#x27;</span><br><span class="hljs-keyword">import</span> &#123; useEffect, useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.less&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Fetch</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../Service/fetch&#x27;</span><br><br><br><br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">MsgItem</span>=(<span class="hljs-params">props</span>)=&gt;&#123;<br><br>        <span class="hljs-keyword">const</span> [flag,setFlag]=<span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>);<br>        <span class="hljs-keyword">const</span> [finish,setFinish]=<span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;å·²æ•‘æ´&#x27;</span>)<br>      <span class="hljs-comment">//  const [jiean,setJiean]=useState(&#x27;&#x27;)</span><br>        <span class="hljs-keyword">const</span> [color,setColor]=<span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)<span class="hljs-comment">//0:#f57b70  1:#76A9FF 2:#f9a53e</span><br>       <span class="hljs-comment">// const [status,setStatus]=useState(0)</span><br>        <span class="hljs-keyword">const</span> [text,setText]=<span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">const</span> [area,setArea]=<span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">const</span> [level,setLevel]=<span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">const</span> [data,setData]=<span class="hljs-title function_">useState</span>([])<br>        <span class="hljs-keyword">const</span> [ifmine,setIfmine] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>)<br><br>        <span class="hljs-keyword">const</span> param=props<br><br>        <span class="hljs-keyword">const</span> status = [<br>            <span class="hljs-string">&#x27;æœªæ•‘æ´&#x27;</span>,<br>            <span class="hljs-string">&#x27;æ•‘æ´ä¸­&#x27;</span>,<br>            <span class="hljs-string">&#x27;å·²æ•‘æ´&#x27;</span><br>        ]<br>        <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>            <span class="hljs-comment">/* console.log(param.flag) */</span><br>          <span class="hljs-comment">//  setStatus(param.status)//ä¸»é¡µitem</span><br>        <br>          <span class="hljs-keyword">if</span>(param.<span class="hljs-property">flag</span>==<span class="hljs-string">&#x27;main&#x27;</span>)  <span class="hljs-comment">//ä¸»é¡µ</span><br>          &#123;<br>            <span class="hljs-title function_">setFlag</span>(<span class="hljs-string">&#x27;alarm&#x27;</span>)<br>            <span class="hljs-keyword">if</span>(param.<span class="hljs-property">ifmine</span>)<br>            &#123;<br>                <span class="hljs-title function_">setIfmine</span>(<span class="hljs-literal">true</span>)<br>                <span class="hljs-title function_">setFinish</span>(<span class="hljs-string">&#x27;æ•‘æ´ä¸­&#x27;</span>)<br>                <span class="hljs-title function_">setColor</span>(<span class="hljs-number">1</span>)<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-comment">//  æœªè®¤é¢†çš„æ•‘æ´</span><br>                <span class="hljs-title function_">setIfmine</span>(<span class="hljs-literal">false</span>)<br>                <span class="hljs-title class_">Fetch</span>(<br>                    <span class="hljs-string">&#x27;/rescue/targetinfo&#x27;</span>,<br>                    &#123;<br>                        <span class="hljs-string">&quot;rescue_target_id&quot;</span>: param.<span class="hljs-property">rescue_target_id</span>,<br>                    &#125;,<br>                    <span class="hljs-string">&#x27;POST&#x27;</span><br>                ).<span class="hljs-title function_">then</span>(<br>                    <span class="hljs-function"><span class="hljs-params">res</span>=&gt;</span>&#123;<br>                        <span class="hljs-comment">//console.log(res)</span><br>                        <span class="hljs-title function_">setFinish</span>(status[res.<span class="hljs-property">data</span>.<span class="hljs-property">rescue_target_info</span>.<span class="hljs-property">status</span>])<br>                        <span class="hljs-title function_">setColor</span>(res.<span class="hljs-property">data</span>.<span class="hljs-property">rescue_target_info</span>.<span class="hljs-property">status</span>)<br>                    &#125;<br>                )<br>          &#125;&#125;<br>          <span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-comment">//record</span><br>            <span class="hljs-title function_">setFlag</span>(<span class="hljs-string">&#x27;record&#x27;</span>)<br>            <span class="hljs-title function_">setFinish</span>(status[param.<span class="hljs-property">status</span>])<br>            <span class="hljs-title function_">setColor</span>(param.<span class="hljs-property">status</span>)<br>          &#125;<br>            <span class="hljs-title function_">setText</span>(param.<span class="hljs-property">text</span>)<br>            <span class="hljs-title function_">setArea</span>(param.<span class="hljs-property">area</span>)<br>            <span class="hljs-title function_">setLevel</span>(param.<span class="hljs-property">risk_level</span>)<br>            <span class="hljs-title function_">setData</span>(param.<span class="hljs-property">data</span>)<br>        &#125;,[param])<br>      <br>        <span class="hljs-keyword">function</span> <span class="hljs-title function_">toR_detail</span>(<span class="hljs-params"></span>)<br>        &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(flag)<br>            <span class="hljs-keyword">if</span>(flag==<span class="hljs-string">&#x27;alarm&#x27;</span>)<br>            <span class="hljs-title class_">Taro</span>.<span class="hljs-title function_">navigateTo</span>(&#123;<br>                <span class="hljs-attr">url</span>:<span class="hljs-string">`/moduleA/pages/Alarm/index?ifmine=<span class="hljs-subst">$&#123;ifmine&#125;</span>&amp;data=<span class="hljs-subst">$&#123;<span class="hljs-built_in">JSON</span>.stringify(data)&#125;</span>&amp;finish=<span class="hljs-subst">$&#123;finish&#125;</span>&amp;color=<span class="hljs-subst">$&#123;color&#125;</span>`</span><br>            &#125;)<br>            <span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;todetail&#x27;</span>)<br>                <span class="hljs-keyword">const</span> jiean = param.<span class="hljs-property">status</span>==<span class="hljs-number">1</span>?<span class="hljs-string">&#x27;æœªç»“æ¡ˆ&#x27;</span>:<span class="hljs-string">&#x27;å·²ç»“æ¡ˆ&#x27;</span><br>                <span class="hljs-title class_">Taro</span>.<span class="hljs-title function_">navigateTo</span>(&#123;<br>                    <span class="hljs-attr">url</span>:<span class="hljs-string">`/moduleA/pages/Rescue_detail/index?finish=<span class="hljs-subst">$&#123;jiean&#125;</span>&amp;data=<span class="hljs-subst">$&#123;<span class="hljs-built_in">JSON</span>.stringify(data)&#125;</span>&amp;teacher=<span class="hljs-subst">$&#123;<span class="hljs-built_in">JSON</span>.stringify(param.teacher)&#125;</span>&amp;lap=<span class="hljs-subst">$&#123;<span class="hljs-built_in">JSON</span>.stringify(param.lap)&#125;</span>`</span><br>                &#125;)<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span>(<br>        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;noti-item column&#x27;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;toR_detail&#125;</span> &gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;inline&#x27;</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;state&#x27;</span><span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;backgroundColor:color</span>==<span class="hljs-string">2?</span>&#x27;#<span class="hljs-attr">76A9FF</span>&#x27;<span class="hljs-attr">:color</span>==<span class="hljs-string">1?</span>&#x27;#<span class="hljs-attr">f9a53e</span>&#x27;<span class="hljs-attr">:</span>&#x27;#<span class="hljs-attr">f57b70</span>&#x27;&#125;&#125;&gt;</span>&#123;finish&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;rescued_level&#x27;</span>&gt;</span></span><br><span class="language-xml">                    é£é™©ç­‰çº§ï¼š&#123;level&#125;</span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;rescued_info&#x27;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;row&#x27;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;border_l&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>å¾®åšå†…å®¹ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;demand&#x27;</span>&gt;</span>&#123;text&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;rescued_city&#x27;</span>&gt;</span></span><br><span class="language-xml">                    åœ°ç‚¹ï¼š&#123;area&#125;</span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">            &#123;/* <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;require&#x27;</span>&gt;</span>ä¸»è¦è¯‰æ±‚ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>æ„Ÿæƒ…å—æŒ«ï¼Œå®¶åº­ä¸å’Œï¼Œå’Œäº²äººæœ‰éš”é˜‚<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span> */&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>        )<br><br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">MsgItem</span>;<br></code></pre></td></tr></table></figure>

<p><strong>è¿™æ˜¯ä¸€æ®µè¶…çº§é•¿çš„ä»£ç ï¼Œæœ‰110è¡Œï¼Œä¸€èˆ¬æˆ‘ä»¬ç»„ä»¶è¶…è¿‡70è¡Œå°±å·²ç»ä¸æ˜¯å¾ˆä¼˜é›…äº†ï¼ˆåæ­£æˆ‘çœ‹åˆ°è¶…è¿‡70è¡Œçš„ç»„ä»¶å°±å¤´å¤§ğŸ¥ºï¼‰ï¼Œå› æ­¤ï¼Œé‡æ„å°±åº”è¯¥æä¸Šæ—¥ç¨‹</strong></p>
<p><em><strong>é‚£é—®é¢˜æ¥äº†ï¼Œè¯¥å¦‚ä½•ä¸‹æ‰‹å‘¢ï¼ŸğŸ¤¨</strong></em></p>
<ol>
<li><p>è¦é‡æ„ä¸€ä¸ªç»„ä»¶ï¼Œé¦–å…ˆè¦æ¸…é™¤åœ¨å“ªé‡Œä¼šè¢«ç”¨åˆ°ï¼Œæˆ‘è¿™é‡Œæ‰¾äº†å®ƒçš„å‡ ä¸ªç”¨æ³•ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// R_record.jsx </span><br><span class="hljs-comment">// è¿™é‡ŒRitemå°±æ˜¯msgItem</span><br>&#123;list?list.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>)=&gt;</span>&#123;<br>                    <span class="hljs-keyword">return</span> (<br>                        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Ritem</span> &#123;<span class="hljs-attr">...item</span>&#125; <span class="hljs-attr">data</span>=<span class="hljs-string">&#123;item&#125;</span> <span class="hljs-attr">teacher</span>=<span class="hljs-string">&#123;teacher&#125;</span> <span class="hljs-attr">status</span>=<span class="hljs-string">&#123;status&#125;</span> <span class="hljs-attr">lap</span>=<span class="hljs-string">&#123;lap&#125;</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#x27;rescue&#x27;</span> <span class="hljs-attr">flag</span>=<span class="hljs-string">&#x27;record&#x27;</span> /&gt;</span></span><br>                    )<br>                &#125;):<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;img&#x27;</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// Main.jsx</span><br>&#123;mine?mine.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>)=&gt;</span>&#123;<br>                    <span class="hljs-keyword">return</span> (<br>                      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MsgItem</span> &#123;<span class="hljs-attr">...item</span>&#125; <span class="hljs-attr">data</span>=<span class="hljs-string">&#123;item&#125;</span>  <span class="hljs-attr">ifmine</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#x27;item&#x27;</span> <span class="hljs-attr">flag</span>=<span class="hljs-string">&#x27;main&#x27;</span> /&gt;</span></span><br>                    )<br>                  &#125;)<br></code></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">//Search.jsx </span><br><span class="hljs-comment">// è¿™æ®µæ˜¯ä¹‹å‰æˆ‘å†™çš„ï¼Œä¸€å¨ğŸ’©</span><br> &#123;form &amp;&amp;<br>          form.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MsgItem</span></span></span><br><span class="hljs-tag"><span class="language-xml">            <span class="hljs-attr">data</span>=<span class="hljs-string">&#123;item&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">            &#123;<span class="hljs-attr">...item</span>&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">            <span class="hljs-attr">ifmine</span>=<span class="hljs-string">&#123;form.some(itm</span> =&gt;</span> JSON.stringify(item) === JSON.stringify(itm))&#125;</span><br><span class="language-xml">            key=&#x27;item&#x27;</span><br><span class="language-xml">            flag=&#x27;main&#x27;</span><br><span class="language-xml">          &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">MsgItem</span>&gt;</span></span>)&#125;<br></code></pre></td></tr></table></figure>

<p>åœ¨çœŸæ­£é‡æ„çš„è¿‡ç¨‹ä¸­ï¼Œä¸€å®šè¦ç†è§£è¿™äº›ä¸ªç»„ä»¶æœ‰ä»€ä¹ˆç”¨ï¼Œæ˜¯å¹²å•¥çš„ï¼Œä½†æ˜¯ç°åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå…ˆä¸ç”¨ç®¡ï¼Œå› ä¸ºè¿™ä¸ªä¸œè¥¿æœ‰ç‚¹å­å¤æ‚çš„ï¼Œæˆ‘è‡ªå·±éƒ½çœ‹åŠå¤©ğŸ˜ï¼ŒåªçŸ¥é“å®ƒæ¥å—å•¥å‚æ•°å°±å¯ä»¥äº†ã€‚</p>
<blockquote>
<p>è§‚å¯Ÿä¸éš¾å‘ç°</p>
<ul>
<li><p>å‚æ•°ä¸­æœ‰ä¸ª<code>flag</code>å’Œ<code>key</code>ï¼Œè¿™ä¿©åå­—ä¸€èˆ¬æ˜¯ç”¨æ¥åŒºåˆ†ç»„ä»¶è¡Œä¸ºçš„ï¼Œæ‰€ä»¥è¿™ä¸ªç»„ä»¶å¾ˆå¯èƒ½ä¼šæœ‰ä¸¤ä¸‰ä¸ªä¸åŒçš„åŠŸèƒ½</p>
</li>
<li><p><code>&#123;...item&#125;</code>å’Œ<code>data=&#123;item&#125;</code>è¿™ä¿©ç©æ„ä¼ çš„ä¸€æ‘¸ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥åˆ å»</p>
</li>
<li><p>è¿˜æœ‰ä¸€äº›<code>teacher</code> ,<code>status</code>ç­‰å¯ä¼ å¯ä¸ä¼ çš„<code>props</code>,è¿™äº›è¯´æ˜ç»„ä»¶åŠŸèƒ½å¯èƒ½æœ‰è¾ƒå¤§å·®å¼‚ï¼Œå¯èƒ½ä¹‹åè¦æŠŠå®ƒåˆ†ä¸ºå¤šä¸ªç»„ä»¶ï¼›æˆ–è€…æŠŠå‚æ•°å–æ¶ˆï¼Œä¼ å›è°ƒå‡½æ•°ï¼Œå®Œå…¨å—æ§ç»„ä»¶é™ä½è€¦åˆåº¦</p>
</li>
</ul>
</blockquote>
<p>åˆ†æå®Œä¹‹åï¼Œå‘ç°ä»»åŠ¡å¾ˆè‰°å·¨å•Šï¼Œå¼€æ‘†å¾—äº†ï¼ˆbushiï¼‰</p>
</li>
<li><p>ä¹‹åï¼Œé¢å¯¹è¿™æ ·è‰°å·¨çš„ä»»åŠ¡ï¼Œæˆ‘ä¸€èˆ¬æ˜¯å…ˆæŒ‘è½¯æŸ¿å­æï¼Œå•¥äº‹è½¯æŸ¿å­å˜ï¼Ÿ</p>
<p>å°±æ˜¯<code>åç§°</code>ï¼Œ<code>ç›®å½•ç»“æ„</code>è¿™äº›æ”¹äº†æ— ä¼¤å¤§é›…ä½†æ˜¯çœ‹ç€ä¼šå¾ˆèˆ’æœçš„ä¸œè¥¿ğŸ¶</p>
<blockquote>
<p>ã€Šé‡æ„ã€‹çš„ä½œè€…åœ¨ä¹¦ä¸­è¯´ï¼š <em><strong>å¦‚æœæœ‰ä¸€ä¸ªäººåœ¨é‡æ„çš„è¿‡ç¨‹ä¸­æœ‰ä¸€æ®µæ—¶é—´ä»£ç æ— æ³•è¿è¡Œï¼Œé‚£ä»–è‚¯å®šä¸åœ¨é‡æ„</strong></em></p>
<p>å› æ­¤ï¼Œå’±ä»¬é‡æ„è¦ä¸€æ­¥ä¸€æ­¥æ¥ã€‚</p>
<p>ä»<code>åç§°</code>ï¼Œ<code>ç›®å½•ç»“æ„</code>è¿™äº›â€œçš®æ¯›â€çš„ä¸œè¥¿å¼€å§‹ï¼Œä¿è¯èƒ½æ­£å¸¸è¿è¡Œçš„æƒ…å†µä¸‹ï¼Œä¸€ç‚¹ç‚¹æ…¢æ…¢æ”¹ğŸ˜</p>
</blockquote>
<p>è¿™é‡Œç›®å½•ç»“æ„æ²¡å•¥é—®é¢˜ï¼Œæ”¹ä¸ªåå­—å°±è¡Œäº†ï¼Œæˆ‘ç»™å®ƒèµ·äº†ä¸ªå“å½“å½“çš„å¤§åï¼š <code>RerscueInfoItem</code>,ä¹‹åéƒ½ç”¨<code>RescueInfoItem</code>ä»£æ›¿<code>MsgItem</code></p>
<p>ä¹‹åæ‰«ä¸€çœ¼ä»£ç ï¼Œå‘ç°</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> jiean = param.<span class="hljs-property">status</span>==<span class="hljs-number">1</span>?<span class="hljs-string">&#x27;æœªç»“æ¡ˆ&#x27;</span>:<span class="hljs-string">&#x27;å·²ç»“æ¡ˆ&#x27;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">backgroundColor</span>:color==<span class="hljs-number">2</span>?<span class="hljs-string">&#x27;#76A9FF&#x27;</span>:color==<span class="hljs-number">1</span>?<span class="hljs-string">&#x27;#f9a53e&#x27;</span>:<span class="hljs-string">&#x27;#f57b70&#x27;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> status = [<br>            <span class="hljs-string">&#x27;æœªæ•‘æ´&#x27;</span>,<br>            <span class="hljs-string">&#x27;æ•‘æ´ä¸­&#x27;</span>,<br>            <span class="hljs-string">&#x27;å·²æ•‘æ´&#x27;</span><br>        ]<br><span class="hljs-title function_">setFinish</span>(status[res.<span class="hljs-property">data</span>.<span class="hljs-property">rescue_target_info</span>.<span class="hljs-property">status</span>])<br></code></pre></td></tr></table></figure>

<p>è¿™ç§ä¸œè¥¿ï¼Œå®Œå…¨å¯ä»¥æŠŠå®ƒä»¬ææˆä¸€ä¸ª<code>Map</code>,å†æ‹¿åˆ°å¤–è¾¹çš„<code>type</code>æˆ–<code>config</code>æ–‡ä»¶é‡Œé¢å˜›</p>
<p>æ–°å¼€ä¸ªæ–‡ä»¶å’¯,å°±å«<code>rescueMessageItemTypes</code>ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// rescueMessageItemTypes.ts</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> rescueStatusType = &#123;<br>  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span><br>  <span class="hljs-attr">color</span>: <span class="hljs-built_in">string</span><br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">rescueStatus</span>: rescueStatusType[] = [<br>  &#123;<br>    <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;æœªæ•‘æ´&#x27;</span>,<br>    <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;#f57b70&#x27;</span>,<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;æ•‘æ´ä¸­&#x27;</span>,<br>    <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;#f9a53e&#x27;</span>,<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;å·²æ•‘æ´&#x27;</span>,<br>    <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;#76A9FF&#x27;</span>,<br>  &#125;,<br>]<br></code></pre></td></tr></table></figure>

<p>ç»“æ¡ˆè¿™ç§ä¸€ä¸‹å­å°±æå®šè€Œä¸”éå¸¸æ˜“æ‡‚çš„äº‹æƒ…ï¼Œå°±ä¸å•ç‹¬æ‹å‡ºæ¥åšå˜é‡äº†,æ”¹å®Œä¹‹å<code>return</code>é‡Œå°±å˜æˆè¿™æ ·ï¼š</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs tsx">&lt;<span class="hljs-title class_">View</span> className=<span class="hljs-string">&quot;inline&quot;</span>&gt;<br>       <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span></span></span><br><span class="hljs-tag"><span class="language-xml">         <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;state&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">         <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span></span></span><br><span class="hljs-tag"><span class="language-xml">           <span class="hljs-attr">backgroundColor:</span></span></span><br><span class="hljs-tag"><span class="language-xml">             <span class="hljs-attr">rescueStatus</span>[<span class="hljs-attr">targetInfo</span> ? <span class="hljs-attr">targetInfo.status</span> <span class="hljs-attr">:</span> <span class="hljs-attr">0</span>]<span class="hljs-attr">.color</span>,</span></span><br><span class="hljs-tag"><span class="language-xml">         &#125;&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">       &gt;</span></span><br><span class="language-xml">         &#123;rescueStatus[targetInfo ? targetInfo.status : 0].text&#125;</span><br><span class="language-xml">       <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>       <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;rescued_level&quot;</span>&gt;</span>é£é™©ç­‰çº§ï¼š&#123;props.risk_level&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>     &lt;/<span class="hljs-title class_">View</span>&gt;<br>     <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">       <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;rescued_info&quot;</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="language-xml">           <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;border_l&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>å¾®åšå†…å®¹ï¼š</span><br><span class="language-xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;demand&quot;</span>&gt;</span>&#123;props.text&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">       <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">       <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;rescued_city&quot;</span>&gt;</span>åœ°ç‚¹ï¼š&#123;props.area&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">     <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br></code></pre></td></tr></table></figure>


</li>
<li><p>è¿˜æ˜¯èšç„¦äºè¡¨é¢åŠŸå¤«ï¼Œä½œä¸º<code>props</code>ä¼ è¿›çš„å‚æ•°ä¸€å †ï¼Œè€Œä¸”è¦<code>state</code>æ•°é‡ä¹Ÿä¸å°‘,å½±å“æ€§èƒ½ä¸è¯´ï¼Œåæ­£æ˜¯ä¸å¥½çœ‹</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> [flag,setFlag]=<span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>);<br>        <span class="hljs-keyword">const</span> [finish,setFinish]=<span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;å·²æ•‘æ´&#x27;</span>)<br>      <span class="hljs-comment">//  const [jiean,setJiean]=useState(&#x27;&#x27;)</span><br>        <span class="hljs-keyword">const</span> [color,setColor]=<span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)<span class="hljs-comment">//0:#f57b70  1:#76A9FF 2:#f9a53e</span><br>       <span class="hljs-comment">// const [status,setStatus]=useState(0)</span><br>        <span class="hljs-keyword">const</span> [text,setText]=<span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">const</span> [area,setArea]=<span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">const</span> [level,setLevel]=<span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-keyword">const</span> [data,setData]=<span class="hljs-title function_">useState</span>([])<br>        <span class="hljs-keyword">const</span> [ifmine,setIfmine] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>)<br><br></code></pre></td></tr></table></figure>

<p>ä½†æ˜¯è¿™é‡Œå¾ˆå¤š<code>state</code>åªæ˜¯è·Ÿ<code>props</code>ç»‘å®šï¼Œè€Œ<code>props</code>ä¸ä¼šç»å¸¸æ”¹å˜ï¼Œå› æ­¤å®Œå…¨å¯ä»¥å»æ‰è¿™äº›<code>state</code>ï¼Œç›´æ¥ä½¿ç”¨<code>props</code>,ä¼˜åŒ–æ€§èƒ½ã€‚</p>
<p>æ³¨æ„åˆ°è·³è½¬æ—¶ä¼ å‚å¾ˆå¤šï¼Œå®Œå…¨å¯ä»¥é‡‡ç”¨<code>redux</code>çš„æ–¹å¼ï¼Œä¼˜åŒ–é€»è¾‘ï¼ŒæŠŠç›¸ä¼¼çš„å˜é‡å’Œå‚æ•°éƒ½æåˆ°å¤–éƒ¨ </p>
<p>ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// rescueInfoSlice.ts</span><br><br><span class="hljs-keyword">import</span> &#123; createSlice, <span class="hljs-title class_">PayloadAction</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@reduxjs/toolkit&#x27;</span><br><span class="hljs-keyword">import</span> &#123;<br>  <span class="hljs-title class_">SingleRescueInfo</span>,<br>  <span class="hljs-title class_">RescueTargetInfoType</span>,<br>  <span class="hljs-title class_">RescueProcess</span>,<br>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../Service/fetchTypes&#x27;</span><br><span class="hljs-keyword">import</span> &#123; rescueInfoSliceType &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./sliceTypes&#x27;</span><br><br><span class="hljs-keyword">const</span> rescueInfoSlice = <span class="hljs-title function_">createSlice</span>(&#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;rescueInfo&#x27;</span>,<br>  <span class="hljs-attr">initialState</span>: &#123;<br>    <span class="hljs-attr">rescueInfo</span>: &#123;&#125; <span class="hljs-keyword">as</span> <span class="hljs-title class_">SingleRescueInfo</span>,<br>    <span class="hljs-attr">targetInfo</span>: &#123;&#125; <span class="hljs-keyword">as</span> <span class="hljs-title class_">RescueTargetInfoType</span>,<br>    <span class="hljs-attr">process</span>: [],<br>    <span class="hljs-attr">eventID</span>: <span class="hljs-number">0</span>,<br>    <span class="hljs-attr">targetID</span>: <span class="hljs-number">0</span>,<br>  &#125; <span class="hljs-keyword">as</span> rescueInfoSliceType,<br>  <span class="hljs-attr">reducers</span>: &#123;<br>    <span class="hljs-attr">updateRescueInfo</span>: <span class="hljs-function">(<span class="hljs-params"></span></span><br><span class="hljs-params"><span class="hljs-function">      state: rescueInfoSliceType,</span></span><br><span class="hljs-params"><span class="hljs-function">      action: PayloadAction&lt;SingleRescueInfo&gt;,</span></span><br><span class="hljs-params"><span class="hljs-function">    </span>) =&gt;</span> (&#123;<br>      ...state,<br>      <span class="hljs-attr">rescueInfo</span>: action.<span class="hljs-property">payload</span>,<br>      <span class="hljs-attr">eventID</span>: action.<span class="hljs-property">payload</span>.<span class="hljs-property">id</span>,<br>      <span class="hljs-attr">targetID</span>: action.<span class="hljs-property">payload</span>.<span class="hljs-property">rescue_target_id</span>,<br>    &#125;),<br>    <span class="hljs-attr">updateTargetInfo</span>: <span class="hljs-function">(<span class="hljs-params"></span></span><br><span class="hljs-params"><span class="hljs-function">      state: rescueInfoSliceType,</span></span><br><span class="hljs-params"><span class="hljs-function">      action: PayloadAction&lt;RescueTargetInfoType&gt;,</span></span><br><span class="hljs-params"><span class="hljs-function">    </span>) =&gt;</span> (&#123; ...state, <span class="hljs-attr">targetInfo</span>: action.<span class="hljs-property">payload</span> &#125;),<br>    <span class="hljs-attr">updateProcess</span>: <span class="hljs-function">(<span class="hljs-params"></span></span><br><span class="hljs-params"><span class="hljs-function">      state: rescueInfoSliceType,</span></span><br><span class="hljs-params"><span class="hljs-function">      action: PayloadAction&lt;RescueProcess[]&gt;,</span></span><br><span class="hljs-params"><span class="hljs-function">    </span>) =&gt;</span> (&#123; ...state, <span class="hljs-attr">process</span>: action.<span class="hljs-property">payload</span> &#125;),<br>  &#125;,<br>&#125;)<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> rescueInfoSlice.<span class="hljs-property">reducer</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> &#123; updateTargetInfo, updateRescueInfo, updateProcess &#125; =<br>  rescueInfoSlice.<span class="hljs-property">actions</span><br><br></code></pre></td></tr></table></figure>

<blockquote>
<p>è¿™é‡Œ<code>redux</code>ä¸ç†è§£ä¸è¦ç´§ï¼Œä¸»è¦æ˜¯ç†è§£æŠ½å‡º<code>state</code>çš„è¿™ä¸ªæ€è·¯ï¼Œå‡å°‘ä¼ å‚ï¼Œæå‡å¯ç»´æŠ¤æ€§ğŸ˜Š</p>
<p>ç°åœ¨ï¼Œåªéœ€è¦ä¸€ä¸ªå˜é‡ï¼šä½¿ç”¨å˜é‡åªéœ€è¦ä»<code>store</code>ä¸­å–å‡ºå³å¯ï¼Œä¹Ÿä¸éœ€è¦å¦å¤–ä¼ å‚ç»™å…¶ä½™é¡µé¢ã€‚</p>
</blockquote>
<p>åŒæ—¶ï¼Œæ³¨æ„åˆ°<code>useEffect</code>ä¸­çš„è°ƒç”¨ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>            <span class="hljs-comment">/* console.log(param.flag) */</span><br>          <span class="hljs-comment">//  setStatus(param.status)//ä¸»é¡µitem</span><br>        <br>          <span class="hljs-keyword">if</span>(param.<span class="hljs-property">flag</span>==<span class="hljs-string">&#x27;main&#x27;</span>)  <span class="hljs-comment">//ä¸»é¡µ</span><br>          &#123;<br>            <span class="hljs-title function_">setFlag</span>(<span class="hljs-string">&#x27;alarm&#x27;</span>)<br>            <span class="hljs-keyword">if</span>(param.<span class="hljs-property">ifmine</span>)<br>            &#123;<br>                <span class="hljs-title function_">setIfmine</span>(<span class="hljs-literal">true</span>)<br>                <span class="hljs-title function_">setFinish</span>(<span class="hljs-string">&#x27;æ•‘æ´ä¸­&#x27;</span>)<br>                <span class="hljs-title function_">setColor</span>(<span class="hljs-number">1</span>)<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-comment">//  æœªè®¤é¢†çš„æ•‘æ´</span><br>                <span class="hljs-title function_">setIfmine</span>(<span class="hljs-literal">false</span>)<br>                <span class="hljs-title class_">Fetch</span>(<br>                    <span class="hljs-string">&#x27;/rescue/targetinfo&#x27;</span>,<br>                    &#123;<br>                        <span class="hljs-string">&quot;rescue_target_id&quot;</span>: param.<span class="hljs-property">rescue_target_id</span>,<br>                    &#125;,<br>                    <span class="hljs-string">&#x27;POST&#x27;</span><br>                ).<span class="hljs-title function_">then</span>(<br>                    <span class="hljs-function"><span class="hljs-params">res</span>=&gt;</span>&#123;<br>                        <span class="hljs-comment">//console.log(res)</span><br>                        <span class="hljs-title function_">setFinish</span>(status[res.<span class="hljs-property">data</span>.<span class="hljs-property">rescue_target_info</span>.<span class="hljs-property">status</span>])<br>                        <span class="hljs-title function_">setColor</span>(res.<span class="hljs-property">data</span>.<span class="hljs-property">rescue_target_info</span>.<span class="hljs-property">status</span>)<br>                    &#125;<br>                )<br>          &#125;&#125;<br>          <span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-comment">//record</span><br>            <span class="hljs-title function_">setFlag</span>(<span class="hljs-string">&#x27;record&#x27;</span>)<br>            <span class="hljs-title function_">setFinish</span>(status[param.<span class="hljs-property">status</span>])<br>            <span class="hljs-title function_">setColor</span>(param.<span class="hljs-property">status</span>)<br>          &#125;<br>            <span class="hljs-title function_">setText</span>(param.<span class="hljs-property">text</span>)<br>            <span class="hljs-title function_">setArea</span>(param.<span class="hljs-property">area</span>)<br>            <span class="hljs-title function_">setLevel</span>(param.<span class="hljs-property">risk_level</span>)<br>            <span class="hljs-title function_">setData</span>(param.<span class="hljs-property">data</span>)<br>        &#125;,[param])<br></code></pre></td></tr></table></figure>

<p>è¿™äº›<code>setState</code>éƒ½å¯ä»¥çœå»ï¼Œä½†æ˜¯ï¼Œå¾ˆæ˜æ˜¾ï¼Œè¿™é‡Œé€»è¾‘å¾ˆå¤æ‚, éœ€è¦é‡æ–°ç»„ç»‡ä¸€ä¸‹é€»è¾‘</p>
<p>è¿™ä¸ªæ—¶å€™ï¼Œå°˜å°å·²ä¹…çš„å¤§è„‘å°±è¦å¼€å§‹è½¬åŠ¨äº†ï¼š</p>
<blockquote>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸»è¦æ˜¯<code>flag</code>è¿™ä¸ªå€¼æ˜¯é€»è¾‘å¤æ‚çš„å¼€å§‹ï¼Œæ ¹æ®æ³¨é‡Šå¯ä»¥çŸ¥é“ï¼Œå†™çš„äººå½“æ—¶ä¹Ÿå¾ˆæŒ£æ‰ğŸ¶ã€‚</p>
<p>è¿™å¯èƒ½æ˜¯å› ä¸ºåç«¯æ¥å£çš„é—®é¢˜ï¼Œå¯¼è‡´ä¸»é¡µé¢ä¸Šæœ‰æœªè®¤é¢†çš„ä»»åŠ¡ï¼Œéœ€è¦é‡æ–°è¯·æ±‚æ‰èƒ½å¾—åˆ°ä¿¡æ¯ã€‚</p>
<p>ç„¶è€ŒçŒ›ç„¶ä¸€çœ‹ï¼Œçœ‹åˆ°è¿™æ®µï¼Œ</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">if</span>(param.<span class="hljs-property">ifmine</span>)<br>            &#123;<br>                <span class="hljs-title function_">setIfmine</span>(<span class="hljs-literal">true</span>)<br>                <span class="hljs-title function_">setFinish</span>(<span class="hljs-string">&#x27;æ•‘æ´ä¸­&#x27;</span>)<br>                <span class="hljs-title function_">setColor</span>(<span class="hljs-number">1</span>)<br>            &#125;<br></code></pre></td></tr></table></figure>

<p>ä¹Ÿæ²¡åœ¨å¹²ä»€ä¹ˆï¼Œæ‰€ä»¥å°±ç´¢æ€§ä¸€è§†åŒä»ï¼Œéƒ½å‘ä¸ªè¯·æ±‚å‘—</p>
</blockquote>
</li>
<li><p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘æ˜¯å–œæ¬¢æŠŠè¯·æ±‚è¿™äº›ä¸œè¥¿æ”¾åˆ°å¤–è¾¹å»çš„ï¼Œæä¸ª<code>service</code>æ–‡ä»¶å¤¹å’¯</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// /service/fetchType.ts</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">BaseResType</span>&lt;T&gt; = &#123;<br>  <span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span><br>  <span class="hljs-attr">msg</span>: <span class="hljs-built_in">string</span><br>  <span class="hljs-attr">data</span>: T<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> requestType = <span class="hljs-string">&#x27;GET&#x27;</span> | <span class="hljs-string">&#x27;POST&#x27;</span> | <span class="hljs-string">&#x27;PUT&#x27;</span> | <span class="hljs-string">&#x27;DELETE&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">RescueTargetInfoResponse</span> &#123;<br>  <span class="hljs-attr">rescue_target_info</span>: <span class="hljs-title class_">RescueTargetInfoType</span><br>&#125;<br><br><span class="hljs-comment">// è¿™æ®µç›´æ¥ä»apifoxä¸Šcopyå°±è¡Œ</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">RescueTargetInfoType</span> &#123;<br>  <span class="hljs-attr">create_time</span>: <span class="hljs-built_in">string</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´è¿‡ç¨‹æè¿°</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">description</span>: <span class="hljs-built_in">string</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´ç»“æŸæ—¶é—´</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">end_time</span>: <span class="hljs-built_in">string</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æœ€ç»ˆè¯„ä»·</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">evalutaion</span>: <span class="hljs-built_in">string</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´å¯¹è±¡id</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´å¯¹è±¡æ˜µç§°ï¼ˆæŒ‰æœ€æ–°çš„æ•‘æ´ä¿¡æ¯æ•°æ®ï¼‰</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">nickname</span>: <span class="hljs-built_in">string</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´è€å¸ˆ1id</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">rescue_teacher1_id</span>: <span class="hljs-built_in">number</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´è€å¸ˆ1å§“å</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">rescue_teacher1_name</span>: <span class="hljs-built_in">string</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´è€å¸ˆ1èº«ä»½</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">rescue_teacher1_role</span>: <span class="hljs-built_in">number</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´è€å¸ˆ2id</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">rescue_teacher2_id</span>: <span class="hljs-built_in">number</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´è€å¸ˆ2å§“å</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">rescue_teacher2_name</span>: <span class="hljs-built_in">string</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´è€å¸ˆ2èº«ä»½</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">rescue_teacher2_role</span>: <span class="hljs-built_in">number</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´è€å¸ˆ3id</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">rescue_teacher3_id</span>: <span class="hljs-built_in">number</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´è€å¸ˆ3å§“å</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">rescue_teacher3_name</span>: <span class="hljs-built_in">string</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´è€å¸ˆ3èº«ä»½</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">rescue_teacher3_role</span>: <span class="hljs-built_in">number</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´èµ·å§‹æ—¶é—´</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">start_time</span>: <span class="hljs-built_in">string</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´çŠ¶æ€ï¼ˆ0-å¾…æ•‘æ´ 1-æ•‘æ´ä¸­ 2-å·²æ•‘æ´ï¼‰</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">status</span>: <span class="hljs-built_in">number</span><br>  <span class="hljs-attr">update_time</span>: <span class="hljs-built_in">string</span><br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * æ•‘æ´å¯¹è±¡å¾®åšåœ°å€ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-attr">weibo_address</span>: <span class="hljs-built_in">string</span><br>&#125;<br></code></pre></td></tr></table></figure>



<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// /service/rescueInfoByID.ts</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">FetchRescueTargetInfo</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">targetID: <span class="hljs-built_in">number</span></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> data = &#123;<br>    <span class="hljs-attr">rescue_target_id</span>: targetID,<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Fetch</span>&lt;<span class="hljs-title class_">BaseResType</span>&lt;<span class="hljs-title class_">RescueTargetInfoResponse</span>&gt;&gt;(<br>    <span class="hljs-string">&#x27;/rescue/targetinfo&#x27;</span>,<br>    data,<br>    <span class="hljs-string">&#x27;POST&#x27;</span>,<br>  )<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æ ¹æ®å®ƒä¼ è¿›æ¥çš„<code>props</code>,æ¥è¯·æ±‚<code>target_info</code>ï¼Œå¹¶ä¸”å˜æˆ<code>state</code>æ”¾èµ·æ¥</p>
<p>è¿™ä¸ªæ—¶å€™ï¼Œæ–‡ä»¶å·²ç»å¼€å§‹å˜å¾—æ¸…çˆ½äº†ï¼š</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">MsgItem</span>=(<span class="hljs-params">props</span>)=&gt;&#123;<br>  <span class="hljs-keyword">const</span> &#123; navURL, ...restProps &#125; = props<br>  <span class="hljs-keyword">const</span> [targetInfo, setTargetInfo] = useState&lt;<span class="hljs-title class_">RescueTargetInfoType</span>&gt;()<br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-title class_">FetchRescueTargetInfo</span>(restProps.<span class="hljs-property">rescue_target_id</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>      <span class="hljs-title function_">setTargetInfo</span>(res.<span class="hljs-property">data</span>.<span class="hljs-property">rescue_target_info</span>)<br>    &#125;)<br>  &#125;, [])<br>        <span class="hljs-keyword">function</span> <span class="hljs-title function_">toR_detail</span>(<span class="hljs-params"></span>)<br>        &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(flag)<br>            <span class="hljs-keyword">if</span>(flag==<span class="hljs-string">&#x27;alarm&#x27;</span>)<br>            <span class="hljs-title class_">Taro</span>.<span class="hljs-title function_">navigateTo</span>(&#123;<br>                <span class="hljs-attr">url</span>:<span class="hljs-string">`/moduleA/pages/Alarm/index?ifmine=<span class="hljs-subst">$&#123;ifmine&#125;</span>&amp;data=<span class="hljs-subst">$&#123;<span class="hljs-built_in">JSON</span>.stringify(data)&#125;</span>&amp;finish=<span class="hljs-subst">$&#123;finish&#125;</span>&amp;color=<span class="hljs-subst">$&#123;color&#125;</span>`</span><br>            &#125;)<br>            <span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;todetail&#x27;</span>)<br>                <span class="hljs-keyword">const</span> jiean = param.<span class="hljs-property">status</span>==<span class="hljs-number">1</span>?<span class="hljs-string">&#x27;æœªç»“æ¡ˆ&#x27;</span>:<span class="hljs-string">&#x27;å·²ç»“æ¡ˆ&#x27;</span><br>                <span class="hljs-title class_">Taro</span>.<span class="hljs-title function_">navigateTo</span>(&#123;<br>                    <span class="hljs-attr">url</span>:<span class="hljs-string">`/moduleA/pages/Rescue_detail/index?finish=<span class="hljs-subst">$&#123;jiean&#125;</span>&amp;data=<span class="hljs-subst">$&#123;<span class="hljs-built_in">JSON</span>.stringify(data)&#125;</span>&amp;teacher=<span class="hljs-subst">$&#123;<span class="hljs-built_in">JSON</span>.stringify(param.teacher)&#125;</span>&amp;lap=<span class="hljs-subst">$&#123;<span class="hljs-built_in">JSON</span>.stringify(param.lap)&#125;</span>`</span><br>                &#125;)<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span>(<br>        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;noti-item column&#x27;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;toR_detail&#125;</span> &gt;</span></span><br><span class="language-xml">             <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;inline&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">View</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;state&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span></span></span><br><span class="hljs-tag"><span class="language-xml">            <span class="hljs-attr">backgroundColor:</span></span></span><br><span class="hljs-tag"><span class="language-xml">              <span class="hljs-attr">rescueStatus</span>[<span class="hljs-attr">targetInfo</span> ? <span class="hljs-attr">targetInfo.status</span> <span class="hljs-attr">:</span> <span class="hljs-attr">0</span>]<span class="hljs-attr">.color</span>,</span></span><br><span class="hljs-tag"><span class="language-xml">          &#125;&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">        &gt;</span></span><br><span class="language-xml">          &#123;rescueStatus[targetInfo ? targetInfo.status : 0].text&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;rescued_level&quot;</span>&gt;</span>é£é™©ç­‰çº§ï¼š&#123;props.risk_level&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;rescued_info&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;border_l&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>å¾®åšå†…å®¹ï¼š</span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;demand&quot;</span>&gt;</span>&#123;props.text&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;rescued_city&quot;</span>&gt;</span>åœ°ç‚¹ï¼š&#123;props.area&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>        )<br><br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>æ¥ä¸‹æ¥ï¼Œå°±å‰©ä¸€ä¸ª<code>toR_detail</code>å‡½æ•°è¦æ”¹å’¯ï¼Œä¹Ÿæ˜¯æ’’æ’’æ°´å•¦,å› ä¸ºåˆšåˆšæˆ‘ä»¬æŠŠstateéƒ½æ”¾åˆ°å¤–è¾¹å»äº†ï¼Œè¿™é‡Œä¹Ÿä¸ç”¨é€šè¿‡ä¼ å‚æ¥è®©å…¶ä»–é¡µé¢è®¿é—®å’¯ï¼Œè¶…çº§çˆ½ï¼Œç•¥å¾®æ”¹æ”¹ï¼Œå°±è¿™æ ·å’¯ï¼Œå…¶ä¸­<code>Nav</code>æ˜¯æˆ‘å°è£…çš„è·³è½¬å‡½æ•°ï¼Œå› ä¸ºä¸æƒ³å†™é‚£ä¹ˆå¤š<code>Taro.navigateTo(&#123;url:&quot;......&quot;&#125;)</code>ï¼š</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Navi</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> navURL_real = navURL || <span class="hljs-string">&#x27;/moduleA/pages/Alarm/index&#x27;</span><br>    store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">updateRescueInfo</span>(restProps))<br>    targetInfo &amp;&amp; store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">updateTargetInfo</span>(targetInfo))<br>    <span class="hljs-title class_">Nav</span>(navURL_real)<br>  &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>è¿™ä¸‹å°±å¤§åŠŸå‘Šæˆäº†ï¼Œå—ï¼Ÿè¿˜è®°å¾—ä¸€å¼€å§‹çš„é‚£äº›ç»„ä»¶ä¼ çš„<code>props</code>å—?ä¹Ÿè¯¥æ¸…æ¸…å•¦ï¼ï¼Œåƒä»€ä¹ˆ<code>flag</code>,<code>ifmine</code>,éƒ½å¯ä»¥æ‰”æ‰å•¦ï¼Œåªç•™ä¸‹åŸºæœ¬çš„msgä¿¡æ¯å°±è¡Œ</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-comment">// R_record.jsx </span><br><span class="hljs-comment">// è¿™é‡ŒRitemå°±æ˜¯msgItem</span><br>&#123;list?list.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>)=&gt;</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Ritem</span> &#123;<span class="hljs-attr">...item</span>&#125; /&gt;</span></span>):<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;img&#x27;</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-comment">// Main.jsx</span><br>&#123;mine?mine.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>)=&gt;</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MsgItem</span> &#123;<span class="hljs-attr">...item</span>&#125;/&gt;</span></span>)<br></code></pre></td></tr></table></figure>

<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-comment">//Search.jsx </span><br><span class="hljs-comment">// è¿™æ®µæ˜¯ä¹‹å‰æˆ‘å†™çš„ï¼Œä¸€å¨ğŸ’©</span><br> &#123;form &amp;&amp; form.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MsgItem</span> &#123;<span class="hljs-attr">...item</span>&#125; /&gt;</span></span>)&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>ç°åœ¨å›å¤´çœ‹çœ‹æˆ‘ä»¬é‡æ„åçš„ç»„ä»¶çš„å…¨è²Œå§ï¼š</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">View</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@tarojs/components&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; useEffect, useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.less&#x27;</span><br><span class="hljs-keyword">import</span> &#123;<br>  <span class="hljs-title class_">RescueMessageItemProps</span>,<br>  rescueStatus,<br>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../types/rescueMessageItemTypes&#x27;</span><br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Nav</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../utils/taroFunctions&#x27;</span><br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">FetchRescueTargetInfo</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../Service/rescueInfoByID&#x27;</span><br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">RescueTargetInfoType</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../Service/fetchTypes&#x27;</span><br><span class="hljs-keyword">import</span> &#123;<br>  updateRescueInfo,<br>  updateTargetInfo,<br>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../slices/rescueInfoSlice&#x27;</span><br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../store/store&#x27;</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">RescueMessageItem</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">RescueMessageItemProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">const</span> &#123; navURL, ...restProps &#125; = props<br>  <span class="hljs-keyword">const</span> [targetInfo, setTargetInfo] = useState&lt;<span class="hljs-title class_">RescueTargetInfoType</span>&gt;()<br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-title class_">FetchRescueTargetInfo</span>(restProps.<span class="hljs-property">rescue_target_id</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>      <span class="hljs-title function_">setTargetInfo</span>(res.<span class="hljs-property">data</span>.<span class="hljs-property">rescue_target_info</span>)<br>    &#125;)<br>  &#125;, [])<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">Navi</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> navURL_real = navURL || <span class="hljs-string">&#x27;/moduleA/pages/Alarm/index&#x27;</span><br>    store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">updateRescueInfo</span>(restProps))<br>    targetInfo &amp;&amp; store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">updateTargetInfo</span>(targetInfo))<br>    <span class="hljs-title class_">Nav</span>(navURL_real)<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;noti-item column&quot;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;Navi&#125;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;inline&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">View</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;state&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span></span></span><br><span class="hljs-tag"><span class="language-xml">            <span class="hljs-attr">backgroundColor:</span></span></span><br><span class="hljs-tag"><span class="language-xml">              <span class="hljs-attr">rescueStatus</span>[<span class="hljs-attr">targetInfo</span> ? <span class="hljs-attr">targetInfo.status</span> <span class="hljs-attr">:</span> <span class="hljs-attr">0</span>]<span class="hljs-attr">.color</span>,</span></span><br><span class="hljs-tag"><span class="language-xml">          &#125;&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">        &gt;</span></span><br><span class="language-xml">          &#123;rescueStatus[targetInfo ? targetInfo.status : 0].text&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;rescued_level&quot;</span>&gt;</span>é£é™©ç­‰çº§ï¼š&#123;props.risk_level&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;rescued_info&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;border_l&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>å¾®åšå†…å®¹ï¼š</span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;demand&quot;</span>&gt;</span>&#123;props.text&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;rescued_city&quot;</span>&gt;</span>åœ°ç‚¹ï¼š&#123;props.area&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><br>  )<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">RescueMessageItem</span><br><br></code></pre></td></tr></table></figure>

<p>ä¸€å…±æ˜¯59è¡Œï¼Œæ˜¯ä¸æ˜¯ç‰¹åˆ«çš„ä¸€ç›®äº†ç„¶ï¼Œçœ‹åˆ°ä¹‹åï¼Œå¿ƒæƒ…éƒ½å˜å¥½äº†ï¼Œä¸æ‰æˆ‘é‡æ„è¿™ä¹ˆä¹…ğŸ¤—</p>
</li>
</ol>
<h2 id="äº”ã€æ€»ç»“â¬‡ï¸"><a href="#äº”ã€æ€»ç»“â¬‡ï¸" class="headerlink" title="äº”ã€æ€»ç»“â¬‡ï¸"></a>äº”ã€æ€»ç»“â¬‡ï¸</h2><p>åœ¨<code>ã€Šé‡æ„ã€‹</code>ä¸­ï¼Œä½œè€…æåˆ°äº†<em><strong>è¥åœ°æ³•åˆ™</strong></em>ï¼Œå³<strong>è¦ä¿è¯åœ¨ä½ æ¥ä¹‹åï¼Œä»£ç å˜å¾—æ›´å¥½è€Œä¸æ˜¯æ›´ç³Ÿç³•</strong>ï¼Œè€Œä¿è¯ä»£ç å˜å¾—æ›´å¥½çš„ç§˜è¯€ï¼Œå°±æ˜¯<strong>é‡æ„</strong>ã€‚è¿™æ¬¡é€šè¿‡ä¸€ä¸ªå°ä¾‹å­ï¼Œæ¥è®©å¤§å®¶çŸ¥é“æŠŠæ—¶é—´èŠ±åœ¨é‡æ„ä¸Šå¹¶ä¸å¯æ€•ï¼Œç»å¸¸é‡æ„å¹¶ä¸è§å¾—æ˜¯ä¸€ä»¶åäº‹ï¼Œç›¸åçš„ï¼Œç»å¸¸é‡æ„ä»£è¡¨ç€ä½ åœ¨ç§¯ææ€è€ƒï¼ŒåŠªåŠ›è®©ä»£ç å˜å¾—æ›´ä¼˜ç§€ï¼›è€Œä¸é‡æ„ï¼Œåªèƒ½æ˜¯ç»™æœªæ¥çš„è‡ªå·±å’ŒåŒä¼´æ·»å µå’¯ã€‚å½“ç„¶ï¼Œè¿‡æ—©è¿‡é¢‘ç¹çš„é‡æ„ä¹Ÿæ˜¯ä¸æå€¡çš„ï¼Œå°±æ¯”å¦‚ï¼šæœ¬æ¥è¿™ä¸ªæŒ‰é’®åªç”¨è´Ÿè´£è·³è½¬ï¼Œä½ å†™ç€å†™ç€ï¼Œçªç„¶æƒ³åˆ°ä»¥åè¦æ˜¯è¦è®©ä»–èƒ½ç‚¹ä¸€ä¸‹å‡ºæ¥ä¸€ä¸ª<code>ggbond</code>æ€ä¹ˆåŠï¼Œä½ åº“åº“å¼€å§‹é‡æ„ï¼Œé‡æ„å®Œä¹‹åï¼Œä¸€å¤©å°±è¿‡å»äº†ã€‚ç„¶è€Œäº§å“è€æ¿åˆ°æœ€åä¹Ÿæ²¡æœ‰ç‚¹ä¸€ä¸‹å‡ºæ¥ä¸€ä¸ª<code>ggbond</code>çš„éœ€æ±‚ï¼ˆè™½ç„¶è¿™çœŸçš„å¾ˆé…·ğŸ˜ï¼‰ã€‚é‚£è¿™ä¸€å¤©å°±æ˜¯ç™½è´¹çš„ã€‚æ€»ä¹‹ï¼Œé‡æ„å°±æ˜¯ä¸€é—¨è‰ºæœ¯ï¼Œè¿‡å¤šè¿‡å°‘éƒ½ä¸æå€¡ï¼Œè¦æ ¹æ®é¡¹ç›®è¦æ±‚ï¼Œçµæ´»é‡æ„ã€‚ä¸å¤šè¯´äº†ï¼Œè¿™äº›å†™å¤šäº†è‡ªç„¶å°±æœ‰æ„Ÿè§‰å•¦ğŸ¤—</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E5%89%8D%E7%AB%AF/" class="category-chain-item">å‰ç«¯</a>
  
  
    <span>></span>
    
  <a href="/categories/%E5%89%8D%E7%AB%AF/js%E8%BF%9B%E9%98%B6/" class="category-chain-item">jsè¿›é˜¶</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%89%8D%E7%AB%AF/" class="print-no-link">#å‰ç«¯</a>
      
        <a href="/tags/js%E8%BF%9B%E9%98%B6/" class="print-no-link">#jsè¿›é˜¶</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>é‡æ„çš„è‰ºæœ¯</div>
      <div>http://baidu.com/2024/03/06/refactor/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>KB</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2024å¹´3æœˆ6æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/03/03/micro/" title="å¾®å‰ç«¯">
                        <span class="hidden-mobile">å¾®å‰ç«¯</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'konodioda727/konodioda727');
      s.setAttribute('issue-term', 'pathname');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
